a=[4 3 4 5 0 0 5 4
0 4 2 2 1 2 2 3 
0 4 3 3 0 3 3 1 
0 3 2 2 2 2 1 2 ]

a =

     4     3     4     5     0     0     5     4
     0     4     2     2     1     2     2     3
     0     4     3     3     0     3     3     1
     0     3     2     2     2     2     1     2

a=zscore(a);
r=corrcoef(a);
[x,y,z]=pcacov(r)

x =

    0.4189    0.1107   -0.0088    0.7300   -0.2542   -0.4021   -0.1203    0.1963
   -0.1976   -0.5537    0.6085    0.0352    0.1710   -0.1448   -0.3250    0.3564
    0.3924   -0.2264   -0.2869   -0.2221   -0.3580    0.4801   -0.4041    0.3757
    0.4138   -0.1141   -0.1973    0.0073    0.6918   -0.0666   -0.4147   -0.3490
   -0.2732    0.5603   -0.0801    0.1635    0.4206    0.2317   -0.1909    0.5578
   -0.3673   -0.3483   -0.2043    0.6140    0.0121    0.5069   -0.0046   -0.2606
    0.3985   -0.2493    0.0397    0.0737    0.3419    0.2108    0.7097    0.3272
    0.3032    0.3456    0.6772    0.0861   -0.0737    0.4768   -0.0672   -0.2921


y =

    5.5682
    1.8491
    0.5827
    0.0000
    0.0000
    0.0000
    0.0000
    0.0000


z =

   69.6021
   23.1139
    7.2840
    0.0000
    0.0000
    0.0000
    0.0000
    0.0000

f=repmat(sign(sum(x)),size(x,1),1);
x=x.*f

x =

    0.4189   -0.1107   -0.0088    0.7300   -0.2542   -0.4021    0.1203    0.1963
   -0.1976    0.5537    0.6085    0.0352    0.1710   -0.1448    0.3250    0.3564
    0.3924    0.2264   -0.2869   -0.2221   -0.3580    0.4801    0.4041    0.3757
    0.4138    0.1141   -0.1973    0.0073    0.6918   -0.0666    0.4147   -0.3490
   -0.2732   -0.5603   -0.0801    0.1635    0.4206    0.2317    0.1909    0.5578
   -0.3673    0.3483   -0.2043    0.6140    0.0121    0.5069    0.0046   -0.2606
    0.3985    0.2493    0.0397    0.0737    0.3419    0.2108   -0.7097    0.3272
    0.3032   -0.3456    0.6772    0.0861   -0.0737    0.4768    0.0672   -0.2921

num=3;
df=a*x(:,[1:num]);
tf=df*z(1:num)/100;
[stf,ind]=sort(tf,'descend');
stf=stf',ind=ind'

stf =

    2.3639   -0.1171   -0.7545   -1.4924


ind =

     1     3     2     4